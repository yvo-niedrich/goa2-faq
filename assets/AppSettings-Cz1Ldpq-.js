import{a3 as O,a4 as $,d as U,s as D,c as y,A as K,i as _,a as p,p as e,z as v,a1 as q,a5 as P,q as w,v as T,F as C,x as A,j as G,k as J,U as X,a6 as F,a2 as I,o as c,h as Y,C as Z,e as L,X as Q,t as ee,_ as te,b as k,y as R,w as x,a7 as se}from"./index-DAn_MFQD.js";const oe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3csvg%20fill='%23000000'%20height='200px'%20width='220px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%2032%20512%20480'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M510.207,414.676c-2.32-23.264-6.805-47.255-14.019-71.608C461.49,226.023,355.26,143.933,234.667,138.804V53.362%20c0-19.006-22.979-28.524-36.418-15.085l-192,192c-8.331,8.331-8.331,21.839,0,30.17l192,192%20c13.439,13.439,36.418,3.921,36.418-15.085V327.656c48.213-4.823,103.873,7.119,157.335,48.352%20c29.572,22.808,56.566,53.666,80.333,93.599C483.421,488.234,512,480.372,512,458.696c0.005-0.959,0.005-0.959,0.025-2.725%20C512.165,442.689,511.785,430.503,510.207,414.676z%20M418.059,342.222c-66.551-51.328-136.755-64.332-197.184-55.876%20c-5.85,0.818-10.162,1.676-12.758,2.331c-9.476,2.39-16.117,10.913-16.117,20.686v76.497L51.503,245.362L192,104.866v55.163%20c0,12.07,10.005,21.737,22.069,21.321c0.863-0.03,1.551-0.045,3.33-0.076c108.78-2.351,206.919,69.472,237.882,173.917%20c2.832,9.56,5.193,19.068,7.124,28.488C448.369,367.975,433.564,354.18,418.059,342.222z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ne=O("faq",()=>{const f=$("goa2-faq.faq.hero",null),l=$("goa2-faq.faq.cards",[]),r=$("goa2-faq.faq.question",""),t=$("goa2-faq.faq.answer","");function i(){f.value="",l.value=[],r.value="",t.value=""}return{hero:f,cards:l,question:r,answer:t,$reset:i}}),ae={class:"faq-proposal"},le={class:"faq-contents"},ie={class:"faq-hero-wrapper"},re={class:"faq-hero"},ue=["value"],ce={class:"faq-cards"},de=["for"],pe=["id","value"],ve={class:"card-tier"},fe={class:"card-name"},me={class:"faq-query-wrapper"},he={class:"legend-input input-question"},_e={class:"legend-input input-answer"},ge=U({__name:"ProposeFAQ",setup(f){function l(d=8){let o="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",h=s.length;for(let b=0;b<d;b++)o+=s.charAt(Math.floor(Math.random()*h));return o}const r=ne(),{hero:t,cards:i}=D(r),n=y(()=>t.value?K(t.value):null),a=y(()=>{var d;return(d=i.value)!=null&&d.length&&n.value?n.value.cards.filter(o=>i.value.includes(o.id)):[]}),u=_(""),m=_(""),V=_(l()),M=_(!1),j=y(()=>n.value?n.value.cards:[]);function z(){var S,N;if(!n.value)return(S=document.querySelector("#hero-select"))==null||S.focus(),!1;if(!u.value)return(N=document.querySelector("#faqQuestion"))==null||N.focus(),!1;const d=["documentation"];m.value.trim()||d.push("help wanted");let o,s;const h=i.value.map(g=>g.substring(0,4));h.filter((g,E)=>h.indexOf(g)===E).length>1?(o="common",s="Multiple"):(o=n.value.id,s=n.value.name);const b=`FAQ: ${s}`,H=`
**Hero**: ${s}
**Cards**: ${a.value.map(g=>g.name).join(", ")||"None"}

**Question**:
${u.value.trim()}

**Answer**:
${m.value.trim()||"_No answer provided_"}

\`\`\`json
${JSON.stringify({[`faq-${o}-${V.value}`]:{q:u.value.trim(),a:m.value.trim()||null,ref:i.value.sort()}},null,4)}
\`\`\`
    `.trim(),W=`https://github.com/yvo-niedrich/goa2-faq/issues/new?title=${encodeURIComponent(b)}&body=${encodeURIComponent(H)}&labels=${encodeURIComponent(d.join(","))}`;window.open(W,"_blank"),M.value=!0}function B(){var d;r.$reset(),V.value=l(),M.value=!1,(d=document.activeElement)==null||d.blur()}return(d,o)=>(c(),p("div",ae,[e("h2",null,v(d.$t("app.settings.propose-FAQ")),1),e("div",le,[e("div",ie,[e("div",re,[q(e("select",{id:"hero-select","onUpdate:modelValue":o[0]||(o[0]=s=>T(t)?t.value=s:null),class:""},[o[4]||(o[4]=e("option",{disabled:"",value:""},"-- Choose a hero --",-1)),(c(!0),p(C,null,A(Object.values(w(G)).sort(w(J)),s=>(c(),p("option",{key:s.id,value:s.id},v(s.name),9,ue))),128))],512),[[P,w(t)]])]),e("div",ce,[(c(!0),p(C,null,A(j.value,s=>(c(),p("div",{key:s.id,class:X(["hero-card",{[`hero-card-color-${s.color}`]:!0,"hero-card-alternative":s.alternative}])},[e("label",{for:s.id},[q(e("input",{type:"checkbox",id:s.id,value:s.id,"onUpdate:modelValue":o[1]||(o[1]=h=>T(i)?i.value=h:null)},null,8,pe),[[F,w(i)]]),o[5]||(o[5]=e("span",{class:"checkmark"},null,-1)),e("span",ve,v(s.tier),1),e("span",fe,v(s.name),1)],8,de)],2))),128))])]),e("div",me,[e("div",he,[o[6]||(o[6]=e("label",{for:"faqQuestion"},"Question",-1)),q(e("input",{type:"text",id:"faqQuestion","onUpdate:modelValue":o[2]||(o[2]=s=>u.value=s),placeholder:"How does this ability interact with trees?"},null,512),[[I,u.value]])]),e("div",_e,[o[7]||(o[7]=e("label",{for:"faqAnswer"},"Answer (optional)",-1)),q(e("textarea",{id:"faqAnswer","onUpdate:modelValue":o[3]||(o[3]=s=>m.value=s),rows:"5",placeholder:"Trees are obsticales!"},null,512),[[I,m.value]])])])]),e("div",{class:"faq-buttons"},[e("button",{class:"faq-submit-github",onClick:z}," Submit "),e("button",{class:"faq-reset",onClick:B}," Reset ")])]))}});function qe(f,l,r=!1){let t;const i=function(...n){const a=this,u=()=>{t=void 0,r||f.apply(a,n)},m=r&&t===void 0;t!==void 0&&clearTimeout(t),t=setTimeout(u,l),m&&f.apply(a,n)};return i.cancel=()=>{t!==void 0&&clearTimeout(t),t=void 0},i.flush=()=>{t!==void 0&&(clearTimeout(t),f(),t=void 0)},i}const we={class:"no-print"},be={class:"expansion-filter no-print"},$e=["value"],ye={key:0,class:"qr-container"},ke={class:"qr-raw no-print"},xe={class:"qr-raw print-only"},Ce={class:"qr-wrapper"},Ae=["src"],Qe=U({__name:"QrCode",setup(f){function l(n=[]){let a=window.location.origin;const u="/goa2-faq/";return!a.endsWith("/")&&!u.startsWith("/")&&(a+="/"),a+=u,n&&n.length&&(a.endsWith("/")||(a+="/"),a+="?expansions="+encodeURIComponent(n.join(","))),a.endsWith("/")&&(a=a.slice(0,-1)),a}const r=_(""),t=_([]),i=Y();return Z([i.width,t],qe(function(){const n=Math.min(600,Math.max(150,Math.floor(i.width.value*.75)));r.value="http://api.qrserver.com/v1/create-qr-code/?data="+l(t.value)+"&size="+n+"x"+n},800),{immediate:!0}),(n,a)=>(c(),p("div",null,[e("h2",we,v(n.$t("app.settings.generate-qr")),1),e("div",be,[e("ul",null,[(c(!0),p(C,null,A(w(ee),u=>(c(),p("li",{key:u},[e("label",null,[q(e("input",{type:"checkbox",value:u,"onUpdate:modelValue":a[0]||(a[0]=m=>t.value=m)},null,8,$e),[[F,t.value]]),Q(" Â "+v(u),1)])]))),128))])]),r.value?(c(),p("div",ye,[e("div",ke,v(l(t.value)),1),e("div",xe,v(l()),1),e("div",Ce,[e("img",{src:r.value},null,8,Ae)])])):L("",!0)]))}}),Ue=te(Qe,[["__scopeId","data-v-caa29d5c"]]),Ve={key:0},Me={key:1},Se={class:"app-settings"},Te=U({__name:"AppSettings",props:{setting:{}},setup(f){return(l,r)=>{const t=se("RouterLink");return l.setting?(c(),p("div",Ve,[k(t,{class:"settings-back no-print",to:"/settings"},{default:x(()=>r[0]||(r[0]=[e("img",{src:oe,width:"20"},null,-1)])),_:1,__:[0]}),l.setting==="faq"?(c(),R(ge,{key:0})):l.setting==="qr"?(c(),R(Ue,{key:1})):L("",!0)])):(c(),p("div",Me,[e("div",Se,[e("div",null,[k(t,{to:"/settings/faq"},{default:x(()=>[Q(v(l.$t("app.settings.propose-FAQ")),1)]),_:1})]),e("div",null,[k(t,{to:"/settings/qr"},{default:x(()=>[Q(v(l.$t("app.settings.generate-qr")),1)]),_:1})])])]))}}});export{Te as default};
